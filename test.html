$("#total-cost-button").click(function() {
    var table = $('#data-table').DataTable();

    // Get the selected color filter
    var selectedColor = $("#color-filter").val();

    // Check if any column filter is applied
    var columnFilterApplied = table.columns().indexes().some(function(index) {
        return table.column(index).search() !== '';
    });

    // Filter the table data based on the selected color
    var filteredData = table.rows(function(index, data, node) {
        if (selectedColor === "all") {
            return !columnFilterApplied || columnFilterApplied;
        } else if (selectedColor === "condition-1") {
            return (!columnFilterApplied || columnFilterApplied) && $(node).hasClass("condition-1");
        } else if (selectedColor === "condition-2") {
            return (!columnFilterApplied || columnFilterApplied) && $(node).hasClass("condition-2");
        }
        return false;
    }).data();

    // Calculate the total cost from the filtered data
    var totalCost = filteredData
        .column(5)
        .data()
        .reduce(function(acc, val) {
            return acc + (parseFloat(val) || 0);
        }, 0);

    // Display the total cost
    $("#total-cost").text(totalCost.toFixed(2));
});
