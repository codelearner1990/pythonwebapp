<div>
    <label for="exclude-keywords">Exclude:</label>
    <input type="text" id="exclude-keywords" placeholder="Enter keywords to exclude">
</div>
<div>
    <label for="search-input">Search:</label>
    <input type="text" id="search-input" placeholder="Search records">
</div>

<script>
    $(document).ready(function() {
        var table = $('#data-table').DataTable();

        // Handle the "exclude" input
        $('#exclude-keywords').on('keyup', function() {
            var excludeKeywords = this.value.split(',').map(keyword => keyword.trim());

            // Remove the existing filtering to apply the exclusion
            table.columns().every(function() {
                var column = this;
                column.search('').draw();
            });

            // Apply the exclusion filter
            excludeKeywords.forEach(keyword => {
                table.columns().every(function() {
                    var column = this;
                    column.search(`^(?!.*${keyword}).*$`, true, false).draw();
                });
            });
        });

        // Handle the default search input
        $('#search-input').on('keyup', function() {
            table.search(this.value).draw();
        });
    });
</script>




$('#exclude-keywords').on('keyup', function() {
    var excludeKeywords = this.value.split(',').map(keyword => keyword.trim());

    if (excludeKeywords.length === 0) {
        // If no exclusion keywords, show all records
        table.columns().every(function() {
            var column = this;
            column.search('').draw();
        });
    } else {
        // Apply the exclusion filter
        table.columns().every(function() {
            var column = this;
            column.search(`^(?!.*(${excludeKeywords.join('|')})).*$`, true, false).draw();
        });
    }
});

