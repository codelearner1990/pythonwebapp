            table.columns().every(function() {
                var column = this;
                var colIndex = column.index();

                // Create a dropdown with checkboxes for multiple value selection
                var dropdown = $('<select id="column-dropdown-' + colIndex + '" multiple="multiple"></select>')
                    .appendTo($(column.header()))
                    .on('change', function() {
                        var selectedValues = $(this).val();
                        column.search(selectedValues ? selectedValues.join('|') : '', true, false).draw();
                    });

                // Populate the dropdown with unique values from the column
                column.data().unique().sort().each(function(d) {
                    dropdown.append('<option value="' + d + '">' + d + '</option>');
                });
            });
